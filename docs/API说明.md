# ä¸œæ–¹è´¢å¯ŒåŸºé‡‘æ¥å£æ•°æ®è¯´æ˜

## æ¥å£åœ°å€
```
http://fund.eastmoney.com/pingzhongdata/{åŸºé‡‘ä»£ç }.js
```

## æ•°æ®æ ¼å¼
è¿”å›JavaScriptå˜é‡å£°æ˜,åŒ…å«åŸºé‡‘çš„è¯¦ç»†ä¿¡æ¯ã€‚

---

## ğŸ“Š è¿”å›æ•°æ®è¯¦è§£

### 1. **åŸºæœ¬ä¿¡æ¯**
```javascript
var ishb = false;                              // æ˜¯å¦ä¸ºè´§å¸åŸºé‡‘
var fS_name = "å¯Œå›½æ–‡ä½“å¥åº·è‚¡ç¥¨A";              // åŸºé‡‘åç§°
var fS_code = "001186";                        // åŸºé‡‘ä»£ç 
var fund_sourceRate = "1.50";                  // åŸç”³è´­è´¹ç‡
var fund_Rate = "0.15";                        // ç°ç”³è´­è´¹ç‡(ä¼˜æƒ å)
var fund_minsg = "10";                         // æœ€å°ç”³è´­é‡‘é¢
```

### 2. **æŒä»“ä¿¡æ¯**
```javascript
// æŒä»“è‚¡ç¥¨ä»£ç (æ—§æ ¼å¼)
var stockCodes = ["6034861","6890091","0023110",...];

// æŒä»“è‚¡ç¥¨ä»£ç (æ–°å¸‚åœºå·æ ¼å¼)
var stockCodesNew = ["1.603486","1.689009","0.002311",...];

// æŒä»“å€ºåˆ¸ä»£ç 
var zqCodes = "";

// æŒä»“å€ºåˆ¸ä»£ç (æ–°å¸‚åœºå·)
var zqCodesNew = "";
```

### 3. **æ”¶ç›Šç‡æŒ‡æ ‡**
```javascript
var syl_1n = "24.22";    // è¿‘1å¹´æ”¶ç›Šç‡(%)
var syl_6y = "12.52";    // è¿‘6æœˆæ”¶ç›Šç‡(%)
var syl_3y = "0.77";     // è¿‘3æœˆæ”¶ç›Šç‡(%)
var syl_1y = "2.98";     // è¿‘1æœˆæ”¶ç›Šç‡(%)
```

### 4. **è‚¡ç¥¨ä»“ä½æµ‹ç®—å›¾** (`Data_fundSharesPositions`)
```javascript
// æ ¼å¼: [æ—¶é—´æˆ³, ä»“ä½æ¯”ä¾‹]
var Data_fundSharesPositions = [
  [1767542400000, 99.0200],
  [1767628800000, 95.00],
  ...
];
```

### 5. **å•ä½å‡€å€¼èµ°åŠ¿** (`Data_netWorthTrend`)
```javascript
// å†å²å‡€å€¼æ•°æ®
var Data_netWorthTrend = [
  {
    "x": 1430841600000,        // æ—¶é—´æˆ³
    "y": 1.0,                  // å•ä½å‡€å€¼
    "equityReturn": 0,         // å‡€å€¼å›æŠ¥ç‡
    "unitMoney": ""            // æ¯ä»½æ´¾é€é‡‘
  },
  ...
];
```

### 6. **ç´¯è®¡å‡€å€¼èµ°åŠ¿** (`Data_ACWorthTrend`)
```javascript
// ç´¯è®¡å‡€å€¼æ•°æ®
var Data_ACWorthTrend = [
  [1430841600000, 1.0],       // [æ—¶é—´æˆ³, ç´¯è®¡å‡€å€¼]
  [1431014400000, 1.004],
  ...
];
```

### 7. **åŒç±»å‹åŸºé‡‘æ’å** (`Data_rateInSimilarType`)
```javascript
// æ ¼å¼: [æ’å, æ€»æ•°]
var Data_rateInSimilarType = [
  [304, 1798],    // è¿‘1å¹´æ’å
  [324, 1729],    // è¿‘2å¹´æ’å
  [392, 1631],    // è¿‘3å¹´æ’å
  [336, 1476],    // è¿‘5å¹´æ’å
  [52, 1019]      // ä»Šå¹´æ¥æ’å
];
```

### 8. **åŒç±»å‹åŸºé‡‘æ¶¨å¹…æ’åç™¾åˆ†æ¯”** (`Data_rateInSimilarPersent`)
```javascript
// åœ¨åŒç±»å‹åŸºé‡‘ä¸­çš„æ¶¨å¹…ç™¾åˆ†æ¯”æ’å
var Data_rateInSimilarPersent = [
  "83.09",    // è¿‘1å‘¨
  "81.26",    // è¿‘1æœˆ
  "75.97",    // è¿‘3æœˆ
  "73.85",    // è¿‘6æœˆ
  "76.71",    // è¿‘1å¹´
  "66.52",    // è¿‘2å¹´
  "24.31"     // è¿‘3å¹´
];
```

### 9. **ç´¯è®¡æ”¶ç›Šç‡** (`Data_grandTotal`)
```javascript
// ç´¯è®¡æ”¶ç›Šç‡èµ°åŠ¿
var Data_grandTotal = [
  ['2015-05-08', 0],
  ['2015-05-13', 0.4],
  ['2015-05-22', 2.1],
  ...
];
```

### 10. **èµ„äº§é…ç½®** (`Data_assetAllocation`)
```json
{
  "series": [
    {
      "name": "è‚¡ç¥¨å å‡€æ¯”",
      "data": [89.53, 85.84, 85.54, 89.63]
    },
    {
      "name": "å€ºåˆ¸å å‡€æ¯”",
      "data": [0, 0.91, 0.77, 0]
    },
    {
      "name": "ç°é‡‘å å‡€æ¯”",
      "data": [11.05, 11.19, 13.81, 11.11]
    },
    {
      "name": "å‡€èµ„äº§",
      "type": "line",
      "data": [21.2721, 22.7265, 26.5509, 22.323]
    }
  ],
  "categories": ["2025-03-31", "2025-06-30", "2025-09-30", "2025-12-31"]
}
```

### 11. **æŒæœ‰äººç»“æ„** (`Data_holderStructure`)
```json
{
  "series": [
    {
      "name": "æœºæ„æŒæœ‰æ¯”ä¾‹",
      "data": [52.99, 66.59, 64.34, 49.74]
    },
    {
      "name": "ä¸ªäººæŒæœ‰æ¯”ä¾‹",
      "data": [47.01, 33.41, 35.66, 50.26]
    },
    {
      "name": "å†…éƒ¨æŒæœ‰æ¯”ä¾‹",
      "data": [0.0756, 0.0673, 0.0725, 0.1182]
    }
  ],
  "categories": ["2023-12-31", "2024-06-30", "2024-12-31", "2025-06-30"]
}
```

### 12. **ä¸šç»©è¯„ä»·** (`Data_performanceEvaluation`)
```json
{
  "avr": "76.75",                              // å¹³å‡åˆ†
  "categories": [
    "é€‰è¯èƒ½åŠ›",
    "æ”¶ç›Šç‡",
    "æŠ—é£é™©",
    "ç¨³å®šæ€§",
    "æ‹©æ—¶èƒ½åŠ›"
  ],
  "data": [80.0, 70.0, 90.0, 85.0, 70.0],     // å„é¡¹è¯„åˆ†
  "dsc": ["èƒ½åŠ›è¯´æ˜1", "èƒ½åŠ›è¯´æ˜2", ...]        // å„é¡¹è¯´æ˜
}
```

### 13. **ç°ä»»åŸºé‡‘ç»ç†** (`Data_currentFundManager`)
```json
[
  {
    "id": "30339268",
    "pic": "https://...",                     // å¤´åƒ
    "name": "æ—åº†",
    "star": 4,                                // æ˜Ÿçº§è¯„ä»·
    "workTime": "10å¹´åˆ275å¤©",                // ä»ä¸šæ—¶é—´
    "fundSize": "72.77äº¿(8åªåŸºé‡‘)",           // ç®¡ç†è§„æ¨¡
    "power": {                                // èƒ½åŠ›è¯„ä»·
      "avr": "75.58",
      "categories": ["ç»éªŒå€¼", "æ”¶ç›Šç‡", "æŠ—é£é™©", "ç¨³å®šæ€§", "æ‹©æ—¶èƒ½åŠ›"],
      "data": [93.10, 66.90, 95.30, 92.90, 56.40]
    },
    "profit": {                               // æ”¶ç›Šå¯¹æ¯”
      "categories": ["ä»»æœŸæ”¶ç›Š", "åŒç±»å¹³å‡", "æ²ªæ·±300"],
      "series": [{"data": [{"y": 201.1}, {"y": 58.67}, {"y": 3.36}]}]
    }
  }
]
```

### 14. **ç”³è´­èµå›** (`Data_buySedemption`)
```json
{
  "series": [
    {
      "name": "æœŸé—´ç”³è´­",
      "data": [0.18, 0.92, 2.66, 0.30]        // å•ä½:äº¿ä»½
    },
    {
      "name": "æœŸé—´èµå›",
      "data": [1.39, 2.64, 2.69, 1.25]
    },
    {
      "name": "æ€»ä»½é¢",
      "data": [8.10, 6.38, 6.35, 5.40]
    }
  ],
  "categories": ["2025-03-31", "2025-06-30", "2025-09-30", "2025-12-31"]
}
```

### 15. **åŒç±»å‹åŸºé‡‘æ¶¨å¹…æ¦œ** (`swithSameType`)
```javascript
// 5ä¸ªä¸åŒæ—¶é—´æ®µçš„åŒç±»åŸºé‡‘æ¶¨å¹…æ’è¡Œ
var swithSameType = [
  ['021875_è·¯åšè¿ˆèµ„æºç²¾é€‰è‚¡ç¥¨å‘_127.97', ...],  // è¿‘1å‘¨æ¶¨å¹…æ¦œ
  ['006502_è´¢é€šé›†æˆç”µè·¯äº§ä¸šè‚¡ç¥¨_250.70', ...],  // è¿‘1æœˆæ¶¨å¹…æ¦œ
  ['010391_æ˜“æ–¹è¾¾æˆ˜ç•¥æ–°å…´äº§ä¸šè‚¡_144.75', ...],  // è¿‘3æœˆæ¶¨å¹…æ¦œ
  ['005161_åå•†ä¸Šæ¸¸äº§ä¸šè‚¡ç¥¨A_203.25', ...],     // è¿‘6æœˆæ¶¨å¹…æ¦œ
  ['025446_ä¸‡å®¶å‘¨æœŸè§†é‡è‚¡ç¥¨å‘èµ·_44.41', ...]    // è¿‘1å¹´æ¶¨å¹…æ¦œ
];
// æ ¼å¼: åŸºé‡‘ä»£ç _åŸºé‡‘åç§°_æ¶¨å¹…
```

---

## ğŸ“ˆ æ•°æ®ç”¨é€”

| æ•°æ®ç±»å‹ | ç”¨é€” |
|---------|------|
| åŸºæœ¬ä¿¡æ¯ | å±•ç¤ºåŸºé‡‘åç§°ã€ä»£ç ã€è´¹ç‡ç­‰ |
| æ”¶ç›Šç‡æŒ‡æ ‡ | å¿«é€Ÿäº†è§£åŸºé‡‘ä¸šç»©è¡¨ç° |
| å‡€å€¼èµ°åŠ¿ | ç»˜åˆ¶å‡€å€¼æ›²çº¿å›¾ |
| ä»“ä½æ•°æ® | äº†è§£åŸºé‡‘è‚¡ç¥¨é…ç½®æ¯”ä¾‹ |
| æŒä»“ä¿¡æ¯ | æŸ¥çœ‹åŸºé‡‘æŒæœ‰çš„è‚¡ç¥¨/å€ºåˆ¸ |
| èµ„äº§é…ç½® | äº†è§£åŸºé‡‘èµ„äº§åˆ†å¸ƒ |
| åŸºé‡‘ç»ç† | äº†è§£ç®¡ç†å›¢é˜Ÿèƒ½åŠ› |
| ä¸šç»©è¯„ä»· | å¤šç»´åº¦è¯„ä¼°åŸºé‡‘è´¨é‡ |
| ç”³è´­èµå› | äº†è§£èµ„é‡‘æµå…¥æµå‡ºæƒ…å†µ |
| åŒç±»æ’å | æ¨ªå‘å¯¹æ¯”åŸºé‡‘è¡¨ç° |

---

## ğŸ”§ è§£æå»ºè®®

ç”±äºæ•°æ®æ˜¯JavaScriptå˜é‡æ ¼å¼,è§£ææ–¹å¼:

1. **æ­£åˆ™è¡¨è¾¾å¼æå–** - åŒ¹é… `var å˜é‡å = å€¼;`
2. **å­—ç¬¦ä¸²å¤„ç†** - å»é™¤å‰åçš„å˜é‡å£°æ˜,æå–çº¯æ•°æ®
3. **JSONè§£æ** - å¯¹äºå¤æ‚å¯¹è±¡,è½¬æ¢ä¸ºJSONåè§£æ
4. **æ³¨æ„å•å¼•å·** - JSæ•°ç»„å¯èƒ½ä½¿ç”¨å•å¼•å·,éœ€æ›¿æ¢ä¸ºåŒå¼•å·

---

## ğŸ’¡ ç¤ºä¾‹: æå–å…³é”®æ•°æ®

```go
// æå–åŸºé‡‘åç§°
namePattern := regexp.MustCompile(`var fS_name = "([^"]+)"`)
name := namePattern.FindStringSubmatch(jsContent)[1]

// æå–æ”¶ç›Šç‡
syl1nPattern := regexp.MustCompile(`var syl_1n="([^"]+)"`)
yearReturn := syl1nPattern.FindStringSubmatch(jsContent)[1]

// æå–JSONå¯¹è±¡
assetPattern := regexp.MustCompile(`var Data_assetAllocation = ({.*?});`)
assetJSON := assetPattern.FindStringSubmatch(jsContent)[1]
```

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. æ•°æ®æ›´æ–°æ—¶é—´é€šå¸¸åœ¨æ³¨é‡Šä¸­æ ‡æ³¨: `/*2026-02-02 12:38:11*/`
2. æŸäº›åŸºé‡‘å¯èƒ½æ²¡æœ‰å€ºåˆ¸æŒä»“,ç›¸å…³å­—æ®µä¸ºç©º
3. æ—¶é—´æˆ³ä½¿ç”¨æ¯«ç§’çº§Unixæ—¶é—´æˆ³
4. æ”¶ç›Šç‡å’Œç™¾åˆ†æ¯”å·²ç»æ˜¯ç™¾åˆ†åˆ¶æ•°å€¼,æ— éœ€ä¹˜100
5. æ•°æ®ç”±ä¸œæ–¹è´¢å¯Œç½‘æä¾›,ä»…ä¾›å‚è€ƒ

---

## ğŸ†š å¯¹æ¯”å¦ä¸€ä¸ªæ¥å£

**å¤©å¤©åŸºé‡‘å®æ—¶ä¼°å€¼æ¥å£** (`http://fundgz.1234567.com.cn/js/{code}.js`)
- è¿”å›å®æ—¶ä¼°å€¼æ•°æ®(äº¤æ˜“æ—¥15:00å‰æ›´æ–°)
- æ•°æ®æ ¼å¼: `jsonpgz({...})`
- åŒ…å«: å®æ—¶å‡€å€¼ã€ä¼°ç®—å¢é•¿ç‡ã€æ›´æ–°æ—¶é—´

**ä¸œæ–¹è´¢å¯Œè¯¦æƒ…æ¥å£** (å½“å‰æ¥å£)
- è¿”å›åŸºé‡‘è¯¦ç»†å†å²æ•°æ®
- æ•°æ®æ ¼å¼: JavaScriptå˜é‡å£°æ˜
- åŒ…å«: å†å²å‡€å€¼ã€æŒä»“ã€ä¸šç»©ã€åŸºé‡‘ç»ç†ç­‰å…¨é¢ä¿¡æ¯

**å»ºè®®**: ä¸¤ä¸ªæ¥å£é…åˆä½¿ç”¨,ä¸œæ–¹è´¢å¯Œæä¾›è¯¦ç»†ä¿¡æ¯,å¤©å¤©åŸºé‡‘æä¾›å®æ—¶ä¼°å€¼ã€‚
